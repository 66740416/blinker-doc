# 动作指令与触发器配置  
您可以通过**管理台>产品开发**配置专属设备的动作指令和触发器。

## 动作指令  
定时功能、场景按键、App内语音、自动化等功能都会使用到动作指令  
### 指令设置  
指令以json格式设置，其中**cmd**为指令信息，当触发该指令时则会向设备发送其中的信息，**text**为用于app上显示的动作文本内容。  
```javascript
[
  {
    "cmd":{"clz":"tap"},
    "text":"天王盖地虎"
  },
  {
    "cmd":{"blinker":"tap"},
    "text":"宝塔镇河妖"
  },
  {
    "cmd":{"btn-a":"on"},
    "text":"打开?name"
  },
  {
    "cmd":{"btn-a":"off"},
    "text":"关闭?name"
  }
]
```
注意事项：
1.如果多个设备拥有相同的语音指令，将只能控制系统首先发现的设备，因此请自行确认指令没有重复  
2.act中的值为字符串，其中双引号需要添加转义符  

### 变量支持
变量以“?”开头，当前支持的变量如下    
```
?name  设备名
```
如一个名为**插座**的设备，且动作指令设置为 **打开?name**，则该指令将被解析为 **打开插座**  
如果您的设备通过区域管理功能设置了区域，则在语音动作指令解析时，会多解析出一条带区域信息的语音指令，如**打开办公室的插座**  

#### 智能音响语音控制  
详见[智能音箱接入](?file=004-特有功能/00-智能音箱接入 "智能音箱接入")  


## 触发器/条件  
App内语音、自动化等功能会使用到触发器。  
**功能内测中，暂未开放**  
### 触发器设置

```javascript
[
  {
    "source":"switch",
    "state":["on","off","sleep"],
    "state_zh":["开启","关闭","休眠"], 
    "enableDuration":true,
    "speech":["状态","是否开机","打开了吗"],   // 语音反馈用
  }
  {
    "source":"temp",
    "range":[0,100],
    "enableDuration":true,
    "unit":"℃",
    "unit_zh":"摄氏度"     // 语音反馈用
  },
  {
    "source":"mode",
    "state":["doing","done","sleep"],
    "state_zh":["开始清扫","完成清扫","休眠"], 
    "enableDuration":true,
    "speech":["模式"],   // 语音反馈用
  }
]
```